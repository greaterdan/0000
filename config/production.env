# AIM Currency Production Configuration
# =====================================

# Environment
NODE_ENV=production
SERVICE_VERSION=1.0.0
SERVICE_NAME=aim-currency
SERVICE_REGION=us-east-1

# Server Configuration
PORT=3000
HOST=0.0.0.0
WORKERS=4
CLUSTER_MODE=true
MAX_CONNECTIONS=10000
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000

# Security Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production
JWT_EXPIRES_IN=3600
JWT_REFRESH_EXPIRES_IN=86400
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# CORS Configuration
ALLOWED_ORIGINS=https://your-frontend.com,https://your-admin.com,https://api.aim-currency.com
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin
CREDENTIALS=true

# Database Configuration
POSTGRES_URL=postgresql://aim_user:secure_password@postgres:5432/aim_production
POSTGRES_POOL_MIN=5
POSTGRES_POOL_MAX=20
POSTGRES_POOL_IDLE_TIMEOUT=30000
POSTGRES_POOL_ACQUIRE_TIMEOUT=60000
POSTGRES_POOL_CREATE_TIMEOUT=30000
POSTGRES_POOL_DESTROY_TIMEOUT=5000
POSTGRES_POOL_REAP_INTERVAL=1000
POSTGRES_POOL_CREATE_RETRY_INTERVAL=200
POSTGRES_POOL_PROPAGATE_CREATE_ERROR=false

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=secure_redis_password
REDIS_DB=0
REDIS_KEY_PREFIX=aim:
REDIS_TTL=3600

# NATS Configuration
NATS_URL=nats://nats:4222
NATS_CLUSTER_ID=aim-cluster
NATS_CLIENT_ID=aim-gateway
NATS_MAX_RECONNECT_ATTEMPTS=10
NATS_RECONNECT_TIME_WAIT=2000
NATS_TIMEOUT=30000

# MinIO Configuration
MINIO_URL=http://minio:9000
MINIO_ACCESS_KEY=aim_access_key
MINIO_SECRET_KEY=secure_minio_secret_key
MINIO_BUCKET=aim-production
MINIO_REGION=us-east-1
MINIO_USE_SSL=false

# Service URLs
LEDGERD_URL=http://ledgerd:3001
MINTD_URL=http://mintd:3003
TREASURY_URL=http://treasury:3004
AGENT_GATEWAY_URL=http://agent-gateway:3008
DISPUTES_URL=http://disputes:3012
ONRAMP_URL=http://onramp:3013
VERIFIER_ADVANCED_URL=http://verifier-advanced:3014
PQSIGNER_URL=http://pqsigner:3000
LOGD_URL=http://logd:3002
METERING_URL=http://metering:3015
WEBHOOKD_URL=http://webhookd:3016

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=/app/logs
LOG_ROTATION=true
LOG_MAX_SIZE=100m
LOG_MAX_FILES=30
LOG_COMPRESS=true
LOG_DATE_PATTERN=YYYY-MM-DD

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s
PROMETHEUS_PUSHGATEWAY_URL=http://prometheus-pushgateway:9091

# Error Tracking
ERROR_TRACKING_ENABLED=true
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
ERROR_SAMPLE_RATE=1.0
ERROR_MAX_REPORTS=10000

# Performance Configuration
PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1000
MEMORY_THRESHOLD=90
CPU_THRESHOLD=90
REQUEST_TIMEOUT=30000
RESPONSE_TIMEOUT=30000

# Business Configuration
MAX_TRANSFER_AMOUNT=1000000000000
MIN_TRANSFER_AMOUNT=1
DAILY_TRANSFER_LIMIT=10000000000000
MAX_ACCOUNTS_PER_USER=10
ACCOUNT_CREATION_RATE_LIMIT=5
TRANSACTION_RATE_LIMIT=100

# Security Headers
SECURITY_HEADERS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
REFERRER_POLICY=strict-origin-when-cross-origin
CONTENT_SECURITY_POLICY=default-src 'self'

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/app/certs/cert.pem
SSL_KEY_PATH=/app/certs/key.pem
SSL_CA_PATH=/app/certs/ca.pem
SSL_CIPHERS=ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256
SSL_PROTOCOLS=TLSv1.2,TLSv1.3

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=aim-backups
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# Disaster Recovery
DR_ENABLED=true
DR_REPLICATION_LAG_THRESHOLD=60
DR_FAILOVER_TIMEOUT=30
DR_BACKUP_SITE_URL=https://backup.aim-currency.com

# Load Balancing
LOAD_BALANCER_ENABLED=true
LOAD_BALANCER_ALGORITHM=round_robin
LOAD_BALANCER_HEALTH_CHECK_INTERVAL=10s
LOAD_BALANCER_HEALTH_CHECK_TIMEOUT=5s
LOAD_BALANCER_HEALTH_CHECK_THRESHOLD=3

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_STRATEGY=lru
CACHE_PERSISTENT=true

# Queue Configuration
QUEUE_ENABLED=true
QUEUE_CONCURRENCY=10
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000
QUEUE_RETRY_DELAY=1000

# Webhook Configuration
WEBHOOK_ENABLED=true
WEBHOOK_TIMEOUT=10000
WEBHOOK_MAX_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5000
WEBHOOK_SIGNATURE_SECRET=your-webhook-signature-secret

# API Configuration
API_VERSION=v1
API_RATE_LIMIT=1000
API_RATE_LIMIT_WINDOW=900000
API_DOCUMENTATION_ENABLED=true
API_DOCUMENTATION_PATH=/api/docs

# Feature Flags
FEATURE_FLAGS_ENABLED=true
FEATURE_NEW_TRANSFER_UI=false
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_NOTIFICATIONS=true
FEATURE_MULTI_CURRENCY=false

# External Services
EXTERNAL_SERVICES_ENABLED=true
EXCHANGE_RATE_API_URL=https://api.exchangerate-api.com/v4/latest
EXCHANGE_RATE_API_KEY=your-exchange-rate-api-key
BLOCKCHAIN_API_URL=https://api.blockchain.info
BLOCKCHAIN_API_KEY=your-blockchain-api-key

# Compliance
COMPLIANCE_ENABLED=true
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555
KYC_ENABLED=true
AML_ENABLED=true
GDPR_ENABLED=true

# Development/Testing
DEBUG_MODE=false
MOCK_EXTERNAL_SERVICES=false
TEST_MODE=false
PROFILING_ENABLED=false